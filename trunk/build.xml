<!-- ================================================================================= -->
<!-- This build file automatically generated by EclipseME                              -->
<!-- Version 1.7.9 on Sun Dec 07 11:51:06 EET 2008.                                    -->
<!--                                                                                   -->
<!-- Modifications may be made to this file and to the user-build.properties files.    -->
<!-- Do not alter eclipseme-build.xml or eclipseme-build.properties.                   -->
<!-- ================================================================================= -->
<project name="Vocabuilder" default="deployedSuite" basedir=".">
	<!-- User build properties come first so that they can override -->
	<!-- the generated properties file.  Be careful with these      -->
	<!-- overrides.                                                 -->
	<property file="user-build.properties" />

	<!-- Generated properties come next.  The properties in this    -->
	<!-- file drive the build process and should not be changed.    -->
	<property file="eclipseme-build.properties" />

	<!-- Import the low-level targets -->
	<import file="eclipseme-build.xml" />

	<!-- The primary target of the build file.  The end result is   -->
	<!-- the deployed jar and jad files.                            -->
	<target name="deployedSuite" depends="deployable" />

	<!-- Initialize the build environment as necessary -->
	<target name="-initialize" description="Initializes the build environment">
		<echo message="Initializing build environment..." />

		<!-- Create the build directories -->
		<mkdir dir="${path.build}" />
		<mkdir dir="${path.build.classes}" />
		<mkdir dir="${path.build.classes}/_no_export" />
		<mkdir dir="${path.build.output}" />
	</target>

	<!-- Build the classes that make up the midlet -->
	<target name="build" depends="-initialize,-eclipseme-build" description="Builds the classes that make up the project">
	</target>


	<!-- Generates a JAD file. this attribute of wtkjad tag forces version number: version="${jad.version}"  -->
	<target name="jad_gen" depends="-eclipseme-initialize" description="Generates a JAD file">
		<echo message="Generating a JAD file..." />
		<antcall target="jad_clean" />
		<wtkjad jadfile="${midlet.name}.jad" version="${jad.version}" name="${jad.midlet.long.name}" vendor="Cleber Goncalves - Boirque" autoversion="${flag.autoversion}" update="true" jarfile="${midlet.name}.jar">

			<midlet name="${jad.midlet.short.name}" class="${jad.midlet.class}" />
			<midlet name="${jad.test.midlet.name}" class="${jad.test.midlet.class}" if="deploy.test.midlet" />

			<attribute name="MIDlet-Description" value="Portable Flash Cards to aid on vocabulary learning" />
			<attribute name="MIDlet-Info-URL" value="http://code.google.com/p/vocabuilder/" />

			<!-- those aren't required by the ant script, as they are obtained automatically (from the properties) for use in the manifest MF but it doesn't hurt to include they also -->
			<attribute name="MicroEdition-Configuration" value="CLDC-${wtk.cldc.version}" />
			<attribute name="MicroEdition-Profile" value="MIDP-${wtk.midp.version}" />

		</wtkjad>
	</target>

	<target name="res_clean" description="deletes the contents of the resources directory">
		<delete includeEmptyDirs="true" quiet="true">
			<fileset dir="${basedir}/res" includes="*,*/**" excludes="testSet.txt" />
		</delete>
	</target>

	<target name="res_copy" depends="res_clean" description="copies language files and properties into resources directory">
		<copy todir="${basedir}/res">
			<fileset dir="${basedir}/doc/word_list/${jad.language.iso.orig}" id="lang">
				<include name="*" />
			</fileset>
		</copy>
	</target>


	<!-- remove the previously generated JAD -->
	<target name="jad_clean" description="deletes the previously copied jad template">
		<delete quiet="true">
			<fileset dir="${basedir}" includes="${jad.midlet.base.name}${jad.short.version}*.jad"/>
		</delete>
	</target>

	<!-- Package up the compiled code without obfuscation -->
	<target name="jar" depends="build,-eclipseme-jar" description="Packages the midlet jar without obfuscation">
	</target>

	<!-- Package up the compiled code with obfuscation -->
	<target name="deployable" depends="jad_gen,res_copy,build,-eclipseme-deployable" description="Packages the midlet jar, with obfuscation">
	</target>

	<!-- Run the packaged code -->
	<target name="run" depends="deployable,-eclipseme-run" description="Runs the deployed package in the emulator">
	</target>

	<!-- Build a Palm PRC file -->
	<target name="makeprc" depends="deployable,-eclipseme-makeprc" description="Generates a deployable Palm PRC file">
	</target>

	<!-- Clean the output of a previous execution -->
	<target name="clean" description="Cleans the output from previous builds">
		<echo message="Cleaning project files..." />
		<antcall target="-eclipseme-clean" />
	</target>
</project>